---
title: "Boostcamp AI Tech (Day 045)"
date: 2024-10-18
layout: post
tags: [Naver Boostcamp, daily report]
---

ğŸš€ Add ultralytics #95
 Open
boyamie wants to merge 7 commits into main from feature-72/yolov11  
 Open
ğŸš€ Add ultralytics
#95
boyamie wants to merge 7 commits into main from feature-72/yolov11 
+476 âˆ’0 
 Conversation 17
 Commits 7
 Checks 0
 Files changed 8
Conversation
boyamie
boyamie commented yesterday
Overview
convert.py: COCO -> YOLO í˜•ì‹ ë³€í™˜
split.py: ë°ì´í„° ë¶„í•  (train/val)
train.py: YOLO ëª¨ë¸ í•™ìŠµ
inference.py: ì¶”ë¡  ë° CSV ë³€í™˜
streamlit.py: ì¶”ë¡  ê²°ê³¼ ì‹œê°í™”
train.pyë¥¼ ì‹¤í–‰ì‹œí‚¤ë©´ convertì™€ splitì˜ í•¨ìˆ˜ë¥¼ ë¶ˆëŸ¬ì™€ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.
Change Log
W&Bë¥¼ í™œìš©í•œ mAP50 ì‹œê°í™” ë„ì…
Streamlitì„ í†µí•œ EDA ë„ì…
To Reviewer
ë‹¤ ê°ˆì•„ì—ì—ˆìŠµë‹ˆë‹¤
Issue Tags
Closed | Fixed: [BUG] Ultralytics W&B mAP50 #94
See also: [BUG] Ultralytics W&B mAP50 #94
boyamie added 3 commits 2 days ago
@boyamie
âœ¨ Add ultralytics
6e19ff0
@boyamie
ğŸš€ Refactor
eb340f2
@boyamie
ğŸš© Only train project
cbc63ec
@boyamie boyamie added âœ¨ Model ğŸ”¨ Refactor Priority: High âš™ Setting(Utils) âš¡ EDA labels yesterday
@boyamie boyamie requested a review from Haneol-Kijm yesterday
@boyamie boyamie self-assigned this yesterday
boyamie added 2 commits yesterday
@boyamie
ğŸ“ Split by ori_haneolcode
e536bc8
@boyamie
ğŸ“„ Add elegant
17f907d
Haneol-Kijm
Haneol-Kijm requested changes yesterday
Haneol-Kijm left a comment
ì¢…í•©ì ìœ¼ë¡œ ì‚¬ì†Œí•œ ë¶€ë¶„ì„ ì œì™¸í•˜ë©´ ê¹”ë”í•œ ì½”ë“œê¸´ í•©ë‹ˆë‹¤. ì›ë˜ëŠ” ë°”ë¡œ ë³‘í•©ì‹œì¼œë“œë¦¬ë ¤ê³  í–ˆëŠ”ë°ìš”, 0.1ì”© ì‚¬ì†Œí•œ ë¶€ë¶„ì„ ëª¨ì•„ë†“ê³  ë³´ë‹ˆê¹Œ 1ì´ë¼ëŠ” ê°’ì´ ë˜ì–´ì„œ ë³‘í•© ì»¤íŠ¸ë¼ì¸ì„ ëª» ë„˜ëŠ” ëŠë‚Œì…ë‹ˆë‹¤. ì¢€ ë„ˆë¬´ ì‚¬ì†Œí•œ ë¶€ë¶„ë“¤ì„ ì§€ì í•´ì„œ ì£„ì†¡í•˜ì§€ë§Œ ë³´í˜„ë‹˜ê»˜ ë„ì›€ì´ ë  ë§Œí•œ ë¶€ë¶„ë“¤ì´ ìˆìœ¼ë‹ˆ í•œ ë²ˆ ì²´í¬í•˜ê³  ë„˜ì–´ê°€ì…¨ìœ¼ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤.

yolov11/augmentation.py
yolov11/cfg/data.yaml
@Haneol-Kijm Haneol-Kijm yesterday
í´ë˜ìŠ¤ê°€ ì•„ê¹Œ ì œëŒ€ë¡œ í‘œê¸°ë˜ì§€ ì•ŠëŠ” ì˜¤ë¥˜ê°€ ìˆë‹¤ê³  í–ˆì—ˆëŠ”ë°ìš”, ì‹¤í—˜ ëŒë¦¬ê²Œ ë˜ë©´ ì²´í¬í•´ë³´ë©´ ì¢‹ê² ë„¤ìš”.

@boyamie	Reply...
yolov11/convert.py
@Haneol-Kijm Haneol-Kijm yesterday
ì½”ë“œ ìì²´ëŠ” ê¹”ë”í•˜ê³  ì¢‹ì€ë°ìš”, ì›ë³¸ train.jsonê³¼ì˜ í˜¼ë™ì„ í”¼í•˜ê¸° ìœ„í•´ ìµœì¢… ì €ì¥ë˜ëŠ” íŒŒì¼ëª…ì„ ì•½ê°„ ë‹¤ë¥´ê²Œ í•˜ë©´ ì¢‹ê² ë„¤ìš”. train3.json ì´ê±´ ì œê°€ ëŒ€ì¶© ìƒê°í–ˆë˜ ê²ƒì¸ë° ì¢€ ë„ˆë¬´ í—·ê°ˆë¦¬ê²Œ ì§€ì—ˆë‹¤ëŠ” ìƒê°ì´ ë“¤êµ¬ìš”, train_augë¼ë˜ê°€ train_modifiedë¼ë˜ê°€ ì±—ì§€í”¼í‹° ì¶”ì²œì„ ë°›ì•„ë‘ë©´ ì¢‹ì„ ë“¯ í•©ë‹ˆë‹¤. ì—­ì‹œ í•„ìˆ˜ì ì¸ ë³€ê²½ ì‚¬í•­ì€ ì•„ë‹™ë‹ˆë‹¤.

Author
@boyamie boyamie 20 hours ago
# ìµœì¢… ë³€í™˜ëœ json íŒŒì¼ëª… ë³€ê²½
train_aug_json_path = "/data/ephemeral/home/dataset/train_aug.json"

# ë³€í™˜ ì‹¤í–‰
convert_yolo(train_json_path, train_label_output_dir)

# ë³€í™˜ëœ íŒŒì¼ì€ train_aug.json ë˜ëŠ” ì ì ˆí•œ ì´ë¦„ìœ¼ë¡œ ì €ì¥
print(f"YOLO í˜•ì‹ìœ¼ë¡œ ë³€í™˜ëœ ë¼ë²¨ì´ {train_label_output_dir}ì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤. ë³€í™˜ëœ JSON íŒŒì¼ì€ {train_aug_json_path}ì— ì €ì¥ë©ë‹ˆë‹¤.")
ì¢‹ì€ ì˜ê²¬ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤!
ì¶”ê°€ë¡œ printë¡œ ì¶œë ¥í•´ì„œ ì €ì¥ëœ ë””ë ‰í† ë¦¬ ì°¾ê¸° ì‰½ê²Œ í•´ë´¤ìŠµë‹ˆë‹¤ ã…ã…
ê°ì‚¬í•©ë‹ˆë‹¤!!

@boyamie	Reply...
 boyamie marked this conversation as resolved.
yolov11/inference.py
@Haneol-Kijm Haneol-Kijm yesterday
ì´ ì½”ë“œëŠ” ì œê°€ ìœ ì‹¬íˆ ë³¼ í•„ìš”ê°€ ìˆì–´ ì›ë³¸ inference ì½”ë“œì™€ submission íŒŒì¼ì„ ì‚´í´ë´¤ìŠµë‹ˆë‹¤. ì œì¶œ í˜•ì‹ì— confidnece ìŠ¤ì½”ì–´ë¥¼ .4fë¡œ ì§€ì •í•˜ì—¬ 4ìë¦¬ê¹Œì§€ë§Œ í‘œì‹œë˜ê²Œ ë˜ì–´ìˆëŠ”ë°ìš”,

for j in range(class_num):
        for o in out[j]:
            prediction_string += str(j) + ' ' + str(o[4]) + ' ' + str(o[0]) + ' ' + str(o[1]) + ' ' + str(
                o[2]) + ' ' + str(o[3]) + ' '
ì›ë³¸ì€ ì•„ì˜ˆ ìë¦¬ìˆ˜ ì§€ì •ì´ ì—†ë”ë¼êµ¬ìš”. ì‹¤ì œë¡œ submission íŒŒì¼ì—ë„ ì»¨í”¼ë˜ìŠ¤ ì ìˆ˜ê°€ 8ìë¦¬ ì§œë¦¬ë„ ìˆê³  ê·¸ë ‡ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ê·¸ ë¶€ë¶„ì€ ì•„ì˜ˆ ë¹¼ì…”ì•¼í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.
ê·¸ ì´ì™¸ì—ëŠ” ì›ë³¸ ì½”ë“œë¥¼ ê¹”ë”í•˜ê²Œ ë°”ê¾¸ì…”ì„œ ë³´ê¸° ì¢‹ë‹¤ëŠ” ìƒê°ì´ ë“§ë‹ˆë‹¤. íŒŒì¼ëª…ì„ ëŒ€ì‹ ì— submission.csvë³´ë‹¨ submission_{ëª¨ë¸ëª…}.csvë©´ ì¢€ ë” ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

Author
@boyamie boyamie 20 hours ago
Confidence ìŠ¤ì½”ì–´ì˜ ìë¦¬ìˆ˜ ì œí•œì„ ì œê±°í•˜ê³ , ì¶œë ¥ íŒŒì¼ëª…ì„ ëª¨ë¸ëª… ê¸°ë°˜ìœ¼ë¡œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤!

prediction_string += f"{int(cls)} {conf} {xmin} {ymin} {xmax} {ymax} "
Author
@boyamie boyamie 20 hours ago
model_name = "yolo11x"
submission_file = f"submission_{model_name}.csv"
@boyamie	Reply...
 boyamie marked this conversation as resolved.
yolov11/split.py
@Haneol-Kijm Haneol-Kijm yesterday
ê·¸ëƒ¥ í•¨ìˆ˜í˜•ì‹ìœ¼ë¡œ ë°”ê¾¸ê³  ë³µë¶™í•´ì„œ íŒŒì´í”„ë¼ì¸ì— ì¶”ê°€í•œ ê²ƒìœ¼ë¡œ ë³´ì´ëŠ”ë°, ì¤‘ë³µë˜ëŠ” ê¸°ëŠ¥ì´ì§€ë§Œ ê°™ì´ í¬í•¨ì‹œí‚¤ëŠ” ê²Œ ì½”ë“œ êµ¬ì¡° ì „ì²´ì—ì„œ ì¼ê´€ì„± ìˆê³  ë” ê¹”ë”í•œ ê±° ê°™ì•„ì„œ ë³´ê¸° ì¢‹ìŠµë‹ˆë‹¤. ê·¼ë° ì œê°€ ì§€ì€ ê±°ì§€ë§Œ train2ë‘ val2ë€ ì´ë¦„ì€ ì¢€ êµ¬ë¦° ê±° ê°™ë„¤ìš”.

Author
@boyamie boyamie 20 hours ago
train_file="train_split.json"
val_file="val_split.json"
íŒŒì¼ëª… ë³€ê²½í–ˆìŠµë‹ˆë‹¤ !! ã…‹ã…‹ã…‹ã…‹ train2ë‘ val2ë„ ê´œì°®ì•„..ìš”!!

@boyamie	Reply...
 boyamie marked this conversation as resolved.
yolov11/streamlit.py
@Haneol-Kijm Haneol-Kijm yesterday
streamlitì€ ì œê°€ ì•ˆ ì¨ë´ì„œ ì˜ ëª¨ë¥´ëŠ”ë°, ê²°ê³¼ë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆë„ë¡ visualizeí•˜ëŠ” ì´ë¯¸ì§€ë¥¼ prì— ì²¨ë¶€í•´ì£¼ì‹œë©´ ì¢€ ë” ì•„ë¦„ë‹¤ìš¸ ê±° ê°™ë‹¤ê³  ë‹¤ë¥¸ íŒ€ì›ê»˜ì„œ ì–¸ê¸‰í•œ ì ì´ ìˆê¸´ í•©ë‹ˆë‹¤.

Author
@boyamie boyamie 20 hours ago
ì¢‹ì€ ìƒê°ì…ë‹ˆë‹¤! streamlit ì•±ì„ ì‹¤í–‰ì‹œí‚¤ê³  ë³´ì™„í•˜ë©´ì„œ prë‚ ë¦´ ë•Œ ì´ë¯¸ì§€ë¥¼ ì²¨ë¶€í•´ë³´ê² ìŠµë‹ˆë‹¤!

@boyamie	Reply...
 boyamie marked this conversation as resolved.
yolov11/train.py
@Haneol-Kijm Haneol-Kijm yesterday
ì´ í•™ìŠµ ì½”ë“œ ìì²´ê°€ ì „ë°˜ì ìœ¼ë¡œ ë˜ê²Œ ê¹”ë”í•´ì„œ ìƒë‹¹íˆ ë§ˆìŒì— ë“œëŠ” ì½”ë“œì…ë‹ˆë‹¤.
ë‹¤ë§Œ í•œ ê°€ì§€ ê±¸ë¦¬ëŠ” ì ì´ ìˆëŠ”ë°ìš”,

results = model.train(data='/data/ephemeral/home/github/yolov11/cfg/data.yaml', 
                      epochs=50, 
                      imgsz=512, 
                      batch=16)
ì´ ë¶€ë¶„ì—ì„œ validation setì´ ë”°ë¡œ ë“¤ì–´ê°€ëŠ” ë¶€ë¶„ì´ ì—†ì§€ ì•Šë‚˜ìš”?
ë³´í†µ ì´ëŸ° í•¨ìˆ˜ì˜ ê²½ìš°ì—” model.train(validation_data_path=~) ì´ëŸ° ì‹ìœ¼ë¡œ ë“¤ì–´ê°€ê±°ë‚˜, model.validate ê°™ì€ í•¨ìˆ˜ë¥¼ ë”°ë¡œ ì¶”ê°€ë¡œ ì¨ì¤˜ì•¼í•˜ì§€ ì•Šë‚˜ ì‹¶ìŠµë‹ˆë‹¤.
ë˜ ì§€ê¸ˆ ì•ˆ ê±´ë° image ì˜¤íƒ€ë„ ìˆë„¤ìš”. ì´ ë¶€ë¶„ ì²´í¬ ë¶€íƒë“œë¦½ë‹ˆë‹¤.

Author
@boyamie boyamie 20 hours ago
Ultralytics ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ëª¨ë¸ì˜ ì…ë ¥ ì´ë¯¸ì§€ í¬ê¸°ë¥¼ ì„¤ì •í•  ë•Œ imgsz ë¼ëŠ” ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤! (ï¿½ì´ë¯¸ì§€ ì‚¬ì´ì¦ˆë¥¼ ì¤„ì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¹ )
validation ë°ì´í„°ëŠ” data.yamlì—ì„œ ì„¤ì •ëœ ëŒ€ë¡œ ì‚¬ìš©ë˜ê²Œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤!

@Haneol-Kijm Haneol-Kijm 17 hours ago
ì•„ ì´ë¯¸ì§€ ì‚¬ì´ì¦ˆê³  yamlì—ì„œ ì‚¬ìš©í•˜ëŠ” êµ°ìš”. ì˜¤í•´ê°€ ìˆì—ˆë„¤ìš” ì£„ì†¡í•©ë‹ˆë‹¤.

@boyamie	Reply...
 boyamie marked this conversation as resolved.
@boyamie
â™»ï¸ After feedback
b787d60
Haneol-Kijm
Haneol-Kijm approved these changes 17 hours ago
Haneol-Kijm left a comment
ë§¤ìš° ì½”ë“œê°€ ê¹”ë”í•˜ê³  ì¢‹ì•„ì ¸ì„œ ë³´ê¸° ì¢‹ìŠµë‹ˆë‹¤! ë³‘í•©ì€ ë”°ë¡œ í•˜ì‹¤ ê±° ê°™ì•„ ìŠ¹ì¸ë§Œ ë„£ê³  í•˜ì§€ ì•Šê² ìŠµë‹ˆë‹¤. ì´ê±´ ë³„ë„ì˜ ì§ˆë¬¸ì¸ë°ìš”, ìŠˆë„ ë¼ë²¨ë§ ì½”ë“œëŠ” ë³„ê°œë¡œ ì‹¤í–‰í•´ì•¼ ë˜ëŠ” íŒŒì¼ì¸ê°€ìš”? main ì½”ë“œê°€ ë“¤ì–´ê°€ìˆë„¤ìš”.

@boyamie
ğŸ©¹ Add model path
4cb7611
Merge state
Changes approved
1 approving review 
1 approval
This branch has no conflicts with the base branch
Merging can be performed automatically.